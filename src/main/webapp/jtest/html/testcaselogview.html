<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>接口</title>
<meta name="keywords"
	content="免费控件,免费UI控件,免费开源UI,免费开源UI控件,免费开源UI框架,可编辑表格,datagrid,editgrid,固定列,多表头">
	<link href="../../lib/ligerUI/skins/Aqua/css/ligerui-all.css"
		rel="stylesheet" type="text/css">
		<link href="../../lib/ligerUI/skins/ligerui-icons.css"
			rel="stylesheet" type="text/css">
			<link href="../../lib/ligerUI/skins/Gray/css/all.css"
				rel="stylesheet" type="text/css">
				<script src="../../lib/jquery/jquery-1.9.0.min.js"
					type="text/javascript"></script>
				<script src="../../lib/ligerUI/js/ligerui.all.js"></script>
				<script src="../../jtest/stringutil.js"></script>
				<script type="text/javascript">
        $(function ()
        {
        	
        	//获取url的参数
        	projectid=GetQueryString(window.location.search.substr(1),"projectId")
        	testcaseresultId=GetQueryString(window.location.search.substr(1),"testcaseresultId")
        	//获取testcaseresult
        	testcaseresult=getTestCaseResult(testcaseresultId)
        	console.log(testcaseresult.logfileurl)
        	logcontent=getlogcontent(testcaseresult.logfileurl)
        	console.log(logcontent)
        	$("div.l-layout-content").html(logcontent)
 
              
 
            $("#pageloading").hide();
        });
        function getTestCaseResult(testcaseresultId){
        	var url = "http://localhost:8080/result/testcaseresult?testcaseresultId="+testcaseresultId
			var data = {};
			$.ajax({
				url : url,
				type : "GET",
				async : false,
				success : function(result) {
					data=result
				}
			});
			return data
        }
        
        function getlogcontent(url){
        	var url = "http://localhost:8080/result/getlogcontent?logfileurl="+url
			var data = {};
			$.ajax({
				url : url,
				type : "GET",
				async : false,
				success : function(result) {
					data=result
				}
			});
			return data
        }
        
    </script> 
                <div position="center" title="" class="l-layout-content">
            <h4>日志内容</h4>
            默认为固定layout的高度百分一百
            </div>

				<div class="l-loading" style="display: block" id="pageloading"></div>



				<div class="l-clear"></div>

				<div id="maingrid"></div>

				<div style="display: none;"></div>
</head>

</html>